<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Icono -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/iconFerreteria.ico') }}">
    <title>Administrar Pedidos</title>
</head>

<body class="bg-gray-100 min-h-screen">

<header class="bg-gradient-to-r from-black via-gray-900 to-[#ff751f] text-white py-4 shadow-lg">
    <div class="max-w-7xl mx-auto px-6 flex justify-between">
        <h1 class="text-2xl font-bold">Panel Admin</h1>
        <nav class="space-x-6">
            <a href="/admin" class="hover:text-[#ff751f]">Inicio Admin</a>
            <a href="/logout" class="hover:text-red-400">Cerrar sesión</a>
        </nav>
    </div>
</header>

<div class="max-w-6xl mx-auto bg-white p-8 mt-10 rounded-xl shadow-lg">

    <h2 class="text-3xl font-bold mb-6">Pedidos</h2>

    <table class="w-full border-collapse text-left">
        <thead>
            <tr class="bg-gray-200 text-gray-700">
                <th class="p-3">ID</th>
                <th class="p-3">Cliente</th>
                <th class="p-3">Total</th>
                <th class="p-3">Estado</th>
                <th class="p-3">Fecha</th>
                <th class="p-3">Acciones</th>
            </tr>
        </thead>
        <tbody>
        {% for p in pedidos %}
            <tr class="border-b">
                <td class="p-3">{{ p.id }}</td>
                <td class="p-3">{{ p.usuario.nombre }}</td>
                <td class="p-3">${{ p.total }}</td>
                <td class="p-3">{{ p.estado }}</td>
                <td class="p-3">{{ p.creado_en.strftime('%d/%m/%Y %H:%M') }}</td>
                <td class="p-3 space-x-3">
                    <a href="/admin/pedidos/{{ p.id }}" class="text-blue-600 hover:underline">Ver</a>
                    <a href="/admin/pedidos/eliminar/{{ p.id }}" 
                       class="text-red-600 hover:underline"
                       onclick="return confirm('¿Eliminar pedido?')">Eliminar</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

</div>

</body>
</html>
